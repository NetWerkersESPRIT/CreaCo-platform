{% extends 'base.html.twig' %}

{% block title %}Dashboard | CreaCo{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block body %}
<div class="w-full px-6 py-6 mx-auto">
    <!-- Quick Stats -->
    <div class="flex flex-wrap -mx-3">
        <!-- Users Card -->
        <div class="w-full max-w-full px-3 mb-6 sm:w-1/2 sm:flex-none xl:mb-0 xl:w-1/4">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                    <div class="flex flex-row -mx-3">
                        <div class="flex-none w-2/3 max-w-full px-3">
                            <div>
                                <p class="mb-0 font-sans font-semibold leading-normal text-sm">Total Members</p>
                                <h5 class="mb-0 font-bold">
                                    {{ stats.users }}
                                    <span class="leading-normal text-sm font-weight-bolder text-lime-500">+{{ (stats.users * 0.1)|round }}%</span>
                                </h5>
                            </div>
                        </div>
                        <div class="px-3 text-right basis-1/3">
                            <div class="inline-block w-12 h-12 text-center rounded-lg bg-gradient-to-tl from-purple-700 to-pink-500">
                                <i class="ni ni-single-02 leading-none text-lg relative top-3.5 text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Events Card -->
        <div class="w-full max-w-full px-3 mb-6 sm:w-1/2 sm:flex-none xl:mb-0 xl:w-1/4">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                    <div class="flex flex-row -mx-3">
                        <div class="flex-none w-2/3 max-w-full px-3">
                            <div>
                                <p class="mb-0 font-sans font-semibold leading-normal text-sm">Total Events</p>
                                <h5 class="mb-0 font-bold">
                                    {{ stats.events }}
                                    <span class="leading-normal text-sm font-weight-bolder text-lime-500">Active</span>
                                </h5>
                            </div>
                        </div>
                        <div class="px-3 text-right basis-1/3">
                            <div class="inline-block w-12 h-12 text-center rounded-lg bg-gradient-to-tl from-purple-700 to-pink-500">
                                <i class="ni ni-calendar-grid-58 leading-none text-lg relative top-3.5 text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ideas Card -->
        <div class="w-full max-w-full px-3 mb-6 sm:w-1/2 sm:flex-none xl:mb-0 xl:w-1/4">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                    <div class="flex flex-row -mx-3">
                        <div class="flex-none w-2/3 max-w-full px-3">
                            <div>
                                <p class="mb-0 font-sans font-semibold leading-normal text-sm">New Ideas</p>
                                <h5 class="mb-0 font-bold">
                                    {{ stats.ideas }}
                                    <span class="leading-normal text-sm font-weight-bolder text-lime-500">+{{ stats.ideas }}</span>
                                </h5>
                            </div>
                        </div>
                        <div class="px-3 text-right basis-1/3">
                            <div class="inline-block w-12 h-12 text-center rounded-lg bg-gradient-to-tl from-purple-700 to-pink-500">
                                <i class="ni ni-bulb-61 leading-none text-lg relative top-3.5 text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Collaborators Card -->
        <div class="w-full max-w-full px-3 mb-6 sm:w-1/2 sm:flex-none xl:mb-0 xl:w-1/4">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                    <div class="flex flex-row -mx-3">
                        <div class="flex-none w-2/3 max-w-full px-3">
                            <div>
                                <p class="mb-0 font-sans font-semibold leading-normal text-sm">Partners</p>
                                <h5 class="mb-0 font-bold">
                                    {{ stats.collaborators }}
                                    <span class="leading-normal text-sm font-weight-bolder text-lime-500">Trusted</span>
                                </h5>
                            </div>
                        </div>
                        <div class="px-3 text-right basis-1/3">
                            <div class="inline-block w-12 h-12 text-center rounded-lg bg-gradient-to-tl from-purple-700 to-pink-500">
                                <i class="ni ni-badge leading-none text-lg relative top-3.5 text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Row: Featured Content & Stats -->
    <div class="flex flex-wrap mt-6 -mx-3">
        <div class="w-full px-3 mb-6 lg:mb-0 lg:w-7/12 lg:flex-none">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                    <div class="flex flex-wrap -mx-3">
                        <div class="max-w-full px-3 lg:w-1/2 lg:flex-none">
                            <div class="flex flex-col h-full">
                                <p class="pt-2 mb-1 font-semibold">Built by Netwerkers</p>
                                <h5 class="font-bold">CreaCo Platform</h5>
                                <p class="mb-12">CreaCo is a platform that connects content creators with businesses and organizations to create innovative and engaging content.</p>
                                <a class="mt-auto mb-0 font-semibold leading-normal group text-sm" href="{{ path('event_list') }}">
                                    Explore Events
                                    <i class="fas fa-arrow-right ease-bounce ml-1 text-sm transition-all group-hover:ml-2"></i>
                                </a>
                            </div>
                        </div>
                        <div class="max-w-full px-3 mt-12 ml-auto text-center lg:mt-0 lg:w-5/12 lg:flex-none">
                            <div class="h-full bg-gradient-to-tl rounded-xl">
                                <img src="{{ asset('assets/img/shapes/waves-white.svg') }}" class="absolute top-0 hidden w-1/2 h-full lg:block" alt="waves" />
                                <div class="relative flex items-center justify-center h-full">
                                    <img class="relative z-20 w-full pt-1" src="{{ asset('/assets/img/logocreaco2.png') }}" alt="rocket" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full px-3 lg:w-5/12 lg:flex-none">
            <div class="relative flex flex-col h-full min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="p-4 pb-0 mb-0 bg-white rounded-t-2xl">
                    <h6 class="font-bold">Latest Innovation Ideas</h6>
                </div>
                <div class="flex-auto p-4">
                    <ul class="flex flex-col pl-0 mb-0 rounded-lg">
                        {% for idea in latestIdeas %}
                        <li class="relative flex border-0 {% if not loop.last %}mb-4{% endif %} break-words bg-transparent border-b-0 rounded-t-inherit rounded-xl">
                            <div class="flex items-center justify-center w-12 h-12 mr-4 text-center bg-gradient-to-tl from-purple-700 to-pink-500 rounded-xl">
                                <i class="ni ni-bulb-61 text-lg text-white"></i>
                            </div>
                            <div class="flex flex-col">
                                <h6 class="mb-1 leading-normal text-sm font-bold">{{ idea.title }}</h6>
                                <p class="mb-0 text-xs leading-tight text-slate-400">{{ idea.description|length > 60 ? idea.description|slice(0, 60) ~ '...' : idea.description }}</p>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                    <div class="mt-6">
                        <a class="inline-block w-full px-8 py-2 mb-0 font-bold text-center uppercase align-middle transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer leading-pro border-fuchsia-500 ease-soft-in text-xs hover:scale-102 active:shadow-soft-xs text-fuchsia-500 hover:border-fuchsia-500 active:bg-fuchsia-500 active:hover:text-fuchsia-500 hover:text-fuchsia-500 tracking-tight-soft hover:bg-transparent hover:opacity-75 hover:shadow-none active:text-white active:hover:bg-transparent" href="{{ path('app_idea_index') }}">View All Ideas</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Upcoming Events Grid -->
    <div class="flex flex-wrap mt-6 -mx-3">
        <div class="w-full max-w-full px-3 mb-6">
            <div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
                <div class="p-4 pb-0 mb-0 bg-white rounded-t-2xl">
                    <h6 class="font-bold">Upcoming Events</h6>
                    <p class="leading-normal text-sm">Check out what's coming next in the community.</p>
                </div>
                <div class="flex-auto p-4">
                    <div class="flex flex-wrap -mx-3">
                        {% for event in upcomingEvents %}
                        <div class="w-full max-w-full px-3 mb-6 md:w-6/12 lg:w-3/12 flex-none">
                            <div class="relative flex flex-col min-w-0 break-words bg-transparent border-0 shadow-none rounded-2xl bg-clip-border">
                                <div class="relative">
                                    <a class="block shadow-xl rounded-2xl">
                                        <img src="{{ event.imagePath ?: asset('assets/img/curved-images/curved14.jpg') }}" alt="img-blur-shadow" class="max-w-full shadow-soft-2xl rounded-2xl h-48 w-full object-cover" />
                                    </a>
                                </div>
                                <div class="flex-auto px-1 pt-6">
                                    <p class="relative z-10 mb-2 leading-normal text-transparent bg-gradient-to-tl from-gray-900 to-slate-800 text-sm bg-clip-text font-bold uppercase">{{ event.category }}</p>
                                    <a href="{{ path('event_show', {'id': event.id}) }}">
                                        <h5>{{ event.name }}</h5>
                                    </a>
                                    <p class="mb-6 leading-normal text-sm">{{ event.description|length > 80 ? event.description|slice(0, 80) ~ '...' : event.description }}</p>
                                    <div class="flex items-center justify-between">
                                        <a href="{{ path('event_show', {'id': event.id}) }}" class="inline-block px-8 py-2 mb-0 font-bold text-center uppercase align-middle transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer leading-pro border-fuchsia-500 ease-soft-in text-xs hover:scale-102 active:shadow-soft-xs text-fuchsia-500 hover:border-fuchsia-500 active:bg-fuchsia-500 active:hover:text-fuchsia-500 hover:text-fuchsia-500 tracking-tight-soft hover:bg-transparent hover:opacity-75 hover:shadow-none active:text-white active:hover:bg-transparent">View Details</a>
                                        <div class="mt-2">
                                            <span class="text-xs font-bold text-slate-400 capitalize"><i class="fa fa-clock mr-1"></i>{{ event.date|date('d M') }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

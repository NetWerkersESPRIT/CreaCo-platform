{% extends './base.html.twig' %}

{% block title %}Modifier Cours{% endblock %}

{% block breadcrumbs %}
<li class="text-sm leading-normal">
    <a class="opacity-50 text-slate-700" href="{{ path('app_cours_index') }}">Cours</a>
</li>
<li class="text-sm pl-2 capitalize leading-normal text-slate-700 before:float-left before:pr-2 before:text-gray-600 before:content-['/']" aria-current="page">
    Modifier
</li>
{% endblock %}

{% block page_title %}Modifier le Cours{% endblock %}

{% block body %}
<div class="flex flex-wrap -mx-3">
  <div class="flex-none w-full max-w-full px-3">
    <div class="relative flex flex-col min-w-0 mb-6 break-words bg-white border-0 border-transparent border-solid shadow-soft-xl rounded-2xl bg-clip-border">
      <div class="p-6 pb-0 mb-0 bg-white border-b-0 border-b-solid rounded-t-2xl border-b-transparent">
        <h6>Modification de : <span class="text-fuchsia-500">{{ cours.titre }}</span></h6>
      </div>
      <div class="flex-auto p-6">
        {# Débogage temporaire - à supprimer après test #}
        {% if form.vars.submitted and not form.vars.valid %}
            <div class="p-4 mb-4 text-sm text-red-800 bg-red-100 rounded-lg" role="alert">
                <strong>⚠️ Le formulaire contient des erreurs :</strong>
                <ul class="mt-2 list-disc list-inside">
                    {% for error in form.vars.errors %}
                        <li>{{ error.message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        {{ include('back/cours/_form.html.twig', {'button_label': 'Mettre à jour le cours'}) }}
        
        <div class="mt-8 pt-6 border-t border-gray-100 flex items-center justify-between">
            <a href="{{ path('app_cours_index') }}" class="text-xs font-semibold leading-tight text-slate-400 bg-gray-100 px-4 py-2 rounded-xl hover:bg-gray-200 transition-all">
                <i class="fas fa-arrow-left mr-1"></i> Retour à la liste
            </a>
            <div class="flex items-center gap-2">
                <span class="text-xxs font-bold uppercase text-slate-400 mr-2">Zone de danger :</span>
                {{ include('back/cours/_delete_form.html.twig') }}
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

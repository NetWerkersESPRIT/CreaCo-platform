{% extends 'base.html.twig' %}

{% block title %}CreaCo - Formations
{% endblock %}
{% block page_title %}Formations
{% endblock %}

{% block body %}
	<div
		class="w-full px-6 py-6 mx-auto">
		<!-- Header & Search -->
		<div class="flex flex-wrap -mx-3 mb-6">
			<div class="w-full max-w-full px-3">
				<div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border">
					<div class="p-6 pb-0 mb-0 bg-white border-b-0 rounded-t-2xl">
						<h6 class="mb-1">Découvrez nos Formations</h6>
						<p class="text-sm leading-normal text-slate-500">Choisissez une catégorie pour explorer les cours et ressources disponibles.</p>
					</div>
					<div class="flex-auto p-6">
						<form method="get" class="relative flex flex-wrap items-stretch w-full transition-all rounded-lg ease-soft">
							<span class="text-sm ease-soft leading-5.6 absolute z-50 -ml-px flex h-full items-center whitespace-nowrap rounded-lg rounded-tr-none rounded-br-none border border-r-0 border-transparent bg-transparent py-2 px-2.5 text-center font-normal text-slate-500 transition-all">
								<i class="fas fa-search" aria-hidden="true"></i>
							</span>
							<input type="text" name="search" value="{{ search ?? '' }}" class="pl-8.75 text-sm focus:shadow-soft-primary-outline ease-soft w-1/100 leading-5.6 relative -ml-px block min-w-0 flex-auto rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding py-2 pr-3 text-gray-700 transition-all placeholder:text-gray-500 focus:border-fuchsia-300 focus:outline-none focus:transition-shadow" placeholder="Rechercher une catégorie..."/>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- Categories Grid -->
		<div class="flex flex-wrap -mx-3">
			{% for category in categories %}
				<div class="w-full max-w-full px-3 mb-6 sm:w-1/2 lg:w-1/3">
					<a href="{{ path('app_front_category', {'id': category.id}) }}" class="block h-full">
						<div class="relative flex flex-col min-w-0 break-words bg-white shadow-soft-xl rounded-2xl bg-clip-border h-full hover:shadow-soft-2xl hover:scale-102 transition-all duration-300">
							<div class="flex-auto p-6">
								<div class="flex items-center mb-4">
									<div class="inline-flex items-center justify-center w-12 h-12 mr-4 text-white transition-all duration-200 text-base ease-soft-in-out rounded-xl bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl">
										<i class="ni ni-app"></i>
									</div>
									<h5 class="mb-0 font-bold text-slate-700">{{ category.nom }}</h5>
								</div>
								<p class="mb-4 leading-normal text-sm text-slate-500">{{ category.description|length > 100 ? category.description|slice(0, 100) ~ '...' : category.description }}</p>
								<div class="flex items-center justify-between mt-auto">
									<span class="text-xs font-semibold uppercase text-slate-400">Voir les cours</span>
									<i class="fas fa-arrow-right text-xs text-slate-400"></i>
								</div>
							</div>
						</div>
					</a>
				</div>
			{% else %}
				<div class="w-full max-w-full px-3">
					<div class="text-center p-12 bg-white shadow-soft-xl rounded-2xl">
						<i class="ni ni-box-2 text-4xl text-slate-300 mb-4"></i>
						<p class="text-lg font-semibold text-slate-500">Aucune catégorie disponible pour le moment.</p>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
